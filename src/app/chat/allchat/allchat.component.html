<div class="container py-6"></div>

<app-sidebar></app-sidebar>
<div class="container py-6"></div>
<section style="background-color: #eee;">
    <div class="container py-5">

        <div class="row d-flex justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-4">

                <div class="card" id="chat1" style="border-radius: 15px;">
                    <div
                        class="card-header d-flex justify-content-between
                        align-items-center p-3 bg-info text-white
                        border-bottom-0"
                        style="border-top-left-radius: 15px;
                        border-top-right-radius: 15px;">
                        <i class="fas fa-angle-left"></i>
                        <p class="mb-0 fw-bold">Live chat</p>
                        <i class="fas fa-times"></i>
                    </div>
                    <div class="card-body">
                        
                        <div *ngFor="let string of greetings2">
                            <div class="d-flex flex-row justify-content-start
                                mb-4">
                                <img
                                    src="{{this.service.host+'/api/authentication/image/'+currentUser.idEtudiant}}"
                                    alt="avatar 1" style="width: 45px; height:
                                    100%;">
                                <div class="p-3 ms-3" style="border-radius:
                                    15px; background-color: rgba(57, 192,
                                    237,.2);" >
                                    <p class="small mb-0">{{string}}</p>
                                    
                                </div>
                            </div>
                        </div>
                        <div *ngIf="currentUser.idEtudiant !== etudiant?.idEtudiant">
                            <div class="d-flex flex-row justify-content-end mb-4">
                                
                                    <div class="p-3 me-3 border" style="border-radius: 15px; background-color: #fbfbfb;">
                                
                                  <p class="small mb-0">t</p>
                                
                                </div>
                                
                                <img src="{{this.service.host+'/api/authentication/image/'+id}}"
                                  alt="avatar 1" style="width: 45px; height: 100%;">
                              </div>
                            </div>
                            
                        <form #loginForm=ngForm>
                            <div class="form-outline">
                                <textarea autocomplete="off"
                                    class="form-control" id="textAreaExample"
                                    placeholder="Type Your Message..."
                                    name="newmessage" [(ngModel)]="newmessages"
                                    required rows="4"></textarea>
                                <label class="form-label" for="textAreaExample"></label>
                                <button class="btn btn-primary"
                                    (click)="sendMessage()"
                                    
                                    [disabled]="!loginForm.valid">Send</button>
                            </div>
                        </form>
                        

                    </div>
                </div>

            </div>
        </div>

    </div>
</section>